<%- include('partials/header') %>

<div class="container-fluid table-responsive bg-white text-dark" id="mainContent">
  <div class="row">

    <%- include(`partials/${datasetName}FilterMenu`) %>

    <div class="col-sm-10">
      <table class="table table-striped">
        <!--table-hover -->
        <thead>
          <tr>
            <% headers.forEach(function(col) { %>
                <% if (col == '_id') return; %>
              <th><%= col %></th>
            <% }); %>
          </tr>
        </thead>

        <tbody>

          <tr>
            <% headers.forEach(function(col) { %>
              <% if (col == '_id') return; %>
              <td id="<%= col %>-1">
                <strong style="color:brown"><%= record[col] %></strong>
              </td>
            <% }); %>
          </tr>

          <% dataset.forEach(function(entry, index) { %>
            <tr>
              <% headers.forEach(function(col) { %>
                <td id="<%= col %><%= index+1 %>">
                  <%= entry[col] %>
                </td>
              <% }); %>
            </tr>
          <% }); %>

        </tbody>
      </table>
    </div>
  </div>
</div>

<script>

  const checkbox = document.getElementById('actionCheck')
  const length = <%= dataset.length %>;
  
  checkbox.addEventListener('change', (event) => {
    if (event.target.checked) {
      for (let i = 0; i < length; i++) {
        if (i % 2 == 0) {
          document.getElementById('row'+i).style.display = 'none';
          //document.getElementById('test').innerHTML = checkbox.value;
        }
      }
    } else {
      for (let i = 0; i < length; i++) {
        if (i % 2 == 0) {
          document.getElementById('row'+i).style.display = 'table-row';
        }
      }
    }
  })

</script>



  <%- include('partials/footer') %>